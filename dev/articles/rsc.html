<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RStudio Connect • pins</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RStudio Connect">
<meta property="og:description" content="pins">
<meta property="og:image" content="https://pins.rstudio.com/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pins</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.99.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/pins.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/articles/internals.html">Pins internals</a>
    </li>
    <li>
      <a href="../articles/rsc.html">RStudio Connect</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/pins/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rsc_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>RStudio Connect</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pins/blob/master/vignettes/rsc.Rmd"><code>vignettes/rsc.Rmd</code></a></small>
      <div class="hidden name"><code>rsc.Rmd</code></div>

    </div>

    
    
<p>This vignette highlights a few ways in which you can use pins and <a href="https://www.rstudio.com/products/connect/">RStudio Connect</a> together.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/pins">pins</a></span><span class="op">)</span></code></pre></div>
<div id="sharing-tidied-data" class="section level2">
<h2 class="hasAnchor">
<a href="#sharing-tidied-data" class="anchor"></a>Sharing tidied data</h2>
<p>Imagine you’re interested in what’s going on in the news, so you’ve written a little code to scrape the BBC world news feed and turn it into a tidy dataset:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://xml2.r-lib.org/">xml2</a></span><span class="op">)</span>

<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">xml</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html">read_xml</a></span><span class="op">(</span><span class="st">"http://feeds.bbci.co.uk/news/rss.xml"</span><span class="op">)</span>  
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
  <span class="co"># Read a saved version of the data to keep this vignette reproducible</span>
  <span class="va">xml</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html">read_xml</a></span><span class="op">(</span><span class="st">"bbc-news.xml"</span><span class="op">)</span>  
<span class="op">}</span>

<span class="va">items</span> <span class="op">&lt;-</span> <span class="va">xml</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="http://xml2.r-lib.org/reference/xml_find_all.html">xml_find_all</a></span><span class="op">(</span><span class="st">"//item"</span><span class="op">)</span>

<span class="va">bbc_news</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
  title <span class="op">=</span> <span class="va">items</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="http://xml2.r-lib.org/reference/xml_find_all.html">xml_find_first</a></span><span class="op">(</span><span class="st">"./title"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html">xml_text</a></span><span class="op">(</span><span class="op">)</span>,
  date <span class="op">=</span> <span class="va">items</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="http://xml2.r-lib.org/reference/xml_find_all.html">xml_find_first</a></span><span class="op">(</span><span class="st">"./pubDate"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html">xml_text</a></span><span class="op">(</span><span class="op">)</span>,
  url <span class="op">=</span> <span class="va">items</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="http://xml2.r-lib.org/reference/xml_find_all.html">xml_find_first</a></span><span class="op">(</span><span class="st">"./guid"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="http://xml2.r-lib.org/reference/xml_text.html">xml_text</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span>
<span class="va">bbc_news</span>
<span class="co">#&gt; # A tibble: 71 x 3</span>
<span class="co">#&gt;    title                              date            url                       </span>
<span class="co">#&gt;    &lt;chr&gt;                              &lt;chr&gt;           &lt;chr&gt;                     </span>
<span class="co">#&gt;  1 Diana interview: PM concerned aft… Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt;  2 Covid in Scotland: Glasgow to be … Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt;  3 Prince Harry says heavy drinking … Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt;  4 Coronavirus: Spain to lift restri… Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt;  5 Diana interview: Whistleblower wa… Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt;  6 Mayhill: Swansea rioters face rob… Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt;  7 UK to offer Australia tariff-free… Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt;  8 Leonard Blavatnik named UK's rich… Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt;  9 Lady Gaga had a 'psychotic break'… Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt; 10 Big cats seized from park belongi… Fri, 21 May 20… https://www.bbc.co.uk/new…</span>
<span class="co">#&gt; # … with 61 more rows</span></code></pre></div>
<p>Wouldn’t it be nice to spare your colleagues the work of reproducing this data, and provide them directly with the tidy tibble? That’s easy to do with pins:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board_rsc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/board_rsconnect.html">board_rsconnect</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">board_rsc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_write</a></span><span class="op">(</span><span class="va">bbc_news</span><span class="op">)</span></code></pre></div>
<p>If you open the pin on RSC (e.g. by running <code>board_rsc %&gt;% pin_browse("news_total")</code>), you’ll see some metadata about the pin, a preview of the data, and a control panel which allows you to control who can see the data. Assuming you’ve given your colleagues access, they can now easily pull down the data for their own analysis:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">board_rsc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/board_rsconnect.html">board_rsconnect</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">board_rsc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_read.html">pin_read</a></span><span class="op">(</span><span class="st">"your_name/bbc_news"</span><span class="op">)</span></code></pre></div>
</div>
<div id="automating" class="section level2">
<h2 class="hasAnchor">
<a href="#automating" class="anchor"></a>Automating</h2>
<p>Here the underlying data will be changing regularly, pinned data will only change when you run <code><a href="../reference/pin_read.html">pin_write()</a></code>. Wouldn’t it be great if we could automate that process? One way to do is with RSC’s <a href="https://docs.rstudio.com/connect/user/scheduling/">scheduled reports</a>. First, take your code and put it in an Rmd:</p>
<pre><code>---
title: BBC news
---

```{r}
library(pins)
library(xml2)

xml &lt;- read_xml("http://feeds.bbci.co.uk/news/rss.xml")  
items &lt;- xml %&gt;% xml_find_all("//item")

bbc_news &lt;- tibble::tibble(
  title = items %&gt;% xml_find_first("./title") %&gt;% xml_text(),
  date = items %&gt;% xml_find_first("./pubDate") %&gt;% xml_text(),
  url = items %&gt;% xml_find_first("./guid") %&gt;% xml_text()
)

board_rsc &lt;- board_rsconnect()
board_rsc %&gt;% pin_write(bbc_news)
```

```{r}
bbc_news
```</code></pre>
<p>Then publish it to RSC, and schedule it to run as often as you like. Assuming that you have RSC 1.8.8 or later you don’t need to provide any arguments to <code><a href="../reference/board_rsconnect.html">board_rsconnect()</a></code>; pins will automatically publish to the same Connect instance that’s running the report.</p>
</div>
<div id="shiny-apps" class="section level2">
<h2 class="hasAnchor">
<a href="#shiny-apps" class="anchor"></a>Shiny apps</h2>
<p>If you’re using automatically updated data in a <a href="http://shiny.rstudio.com">Shiny</a> app, you can use <code><a href="../reference/pin_reactive_read.html">pin_reactive_read()</a></code> to create a reactive dependency so that your app will automatically update shortly after the data changes:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/pins">pins</a></span><span class="op">)</span>

<span class="va">board</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/board_rsconnect.html">board_rsconnect</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"News from the BBC"</span><span class="op">)</span>,
  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html">htmlOutput</a></span><span class="op">(</span><span class="st">"news"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">news</span> <span class="op">&lt;-</span> <span class="va">board</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/pin_reactive_read.html">pin_reactive_read</a></span><span class="op">(</span><span class="st">"hadley/bbc_news"</span><span class="op">)</span>
  
  <span class="va">output</span><span class="op">$</span><span class="va">news</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderUI.html">renderUI</a></span><span class="op">(</span><span class="op">{</span>
    <span class="va">title</span> <span class="op">&lt;-</span> <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/htmlEscape.html">htmlEscape</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/news.html">news</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">title</span><span class="op">)</span>
    <span class="va">links</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"&lt;a href='"</span>, <span class="fu"><a href="https://rdrr.io/r/utils/news.html">news</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">url</span>, <span class="st">"'&gt;"</span>, <span class="va">title</span>, <span class="st">"&lt;/a&gt;"</span><span class="op">)</span>
    <span class="va">bullets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"  &lt;li&gt;"</span>, <span class="va">links</span>, <span class="st">"&lt;/li&gt;"</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span>
    <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/HTML.html">HTML</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"&lt;ul&gt;"</span>, <span class="va">bullets</span>, <span class="st">"&lt;/ul&gt;"</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></code></pre></div>
<p>If you deploy this app and watch it while your scheduled reported runs, you’ll see the data update automatically.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>, Javier Luraschi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
